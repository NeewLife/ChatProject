<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MBTI검사</title>
<script src="https://code.jquery.com/jquery-3.6.0.js"
	crossorigin="anonymous"></script>
</head>
<body>
	<h1>MBTI 검사지</h1>
<form id="mbtiForm" method="post">
	문제 1
	<br>
	<input name="one" type="checkbox" value="1"
	onclick="doOpenCheck1(this);">1
	
	<input name="one" type="checkbox" value="2"
	onclick="doOpenCheck1(this);">2

	<input name="one" type="checkbox" value="3"
	onclick="doOpenCheck1(this);">3
		<br>	
	<br>
	<br>
	
	문제 2
	<br>
	<input name="two" type="checkbox" value="1"
		onclick="doOpenCheck2(this);">1
	
	<input name="two" type="checkbox" value="2"
		onclick="doOpenCheck2(this);">2

	<input name="two" type="checkbox" value="3"
		onclick="doOpenCheck2(this);">3
		<br>	
	<br>
	<br>
	
	문제 3
	<br>
	<input name="three" type="checkbox" value="1"
		onclick="doOpenCheck3(this);">1
	
	<input name="three" type="checkbox" value="2"
		onclick="doOpenCheck3(this);">2

	<input name="three" type="checkbox" value="3"
		onclick="doOpenCheck3(this);">3
		<br>	
	<br>
	<br>
	
	문제 4
	<br>
	<input name="four" type="checkbox" value="1"
		onclick="doOpenCheck4(this);">1
	
	<input name="four" type="checkbox" value="2"
		onclick="doOpenCheck4(this);">2

	<input name="four" type="checkbox" value="3"
		onclick="doOpenCheck4(this);">3
		<br>	
	<br>
	<br>
	
	문제 5
	<br>
	<input name="five" type="checkbox" value="1"
		onclick="doOpenCheck5(this);">1
	
	<input name="five" type="checkbox" value="2"
		onclick="doOpenCheck5(this);">2

	<input name="five" type="checkbox" value="3"
		onclick="doOpenCheck5(this);">3
		<br>	
	<br>
	<br>
	
	문제 6
	<br>
	<input name="six" type="checkbox" value="1"
		onclick="doOpenCheck6(this);">1
	
	<input name="six" type="checkbox" value="2"
		onclick="doOpenCheck6(this);">2

	<input name="six" type="checkbox" value="3"
		onclick="doOpenCheck6(this);">3
		<br>	
	<br>
	<br>
	
	문제 7
	<br>
	<input name="seven" type="checkbox" value="1"
		onclick="doOpenCheck7(this);">1
	
	<input name="seven" type="checkbox" value="2"
		onclick="doOpenCheck7(this);">2

	<input name="seven" type="checkbox" value="3"
		onclick="doOpenCheck7(this);">3
		<br>	
	<br>
	<br>
	
	문제 8
	<br>
	<input name="eight" type="checkbox" value="1"
		onclick="doOpenCheck8(this);">1
	
	<input name="eight" type="checkbox" value="2"
		onclick="doOpenCheck8(this);">2

	<input name="eight" type="checkbox" value="3"
		onclick="doOpenCheck8(this);">3
		<br>	
	<br>
	<br>


	<button type="button" class="btn mt-4" onclick="mbtiTest();">제출하기</button>
</form>
	

	<script>
		function doOpenCheck1(chk) {
			var obj = document.getElementsByName("one");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck2(chk) {
			var obj = document.getElementsByName("two");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck3(chk) {
			var obj = document.getElementsByName("three");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck4(chk) {
			var obj = document.getElementsByName("four");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck5(chk) {
			var obj = document.getElementsByName("five");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck6(chk) {
			var obj = document.getElementsByName("six");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck7(chk) {
			var obj = document.getElementsByName("seven");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function doOpenCheck8(chk) {
			var obj = document.getElementsByName("eight");
			for (var i = 0; i < obj.length; i++) {
				if (obj[i] != chk) {
					obj[i].checked = false;
				}
			}
		}
		
		function mbtiTest(){
			
			let first = $("input[name='one']:checked").val();
			let two = $("input[name='two']:checked").val();
			let three = $("input[name='three']:checked").val();
			let four = $("input[name='four']:checked").val();
			let five = $("input[name='five']:checked").val();
			let six = $("input[name='six']:checked").val();
			let seven = $("input[name='seven']:checked").val();
			let eight = $("input[name='eight']:checked").val();
			console.log(first);
			console.log(two);
			console.log(three);
			console.log(four);
			console.log(five);
			console.log(six);
			console.log(seven);
			console.log(eight);
			localStorage.setItem("first",first);
			localStorage.setItem("two",two);
			localStorage.setItem("three",three);
			localStorage.setItem("four",four);
			localStorage.setItem("five",five);
			localStorage.setItem("six",six);
			localStorage.setItem("seven",seven);
			localStorage.setItem("eight",eight);
			
			location.href = '/register/mbtiResult' 
		}
	</script>
</body>
</html>